defaultTasks 'install'

subprojects {

  apply plugin: 'java'

  repositories {
    mavenCentral()
  }

  dependencies {
    compile 'org.apache.hadoop:hadoop-common:2.7.1'
    compile 'org.apache.hadoop:hadoop-mapreduce-client-core:2.7.1'
    compile 'com.googlecode.json-simple:json-simple:1.1.1'
    compile 'com.drewnoakes:metadata-extractor:2.8.1'
    compile 'com.twelvemonkeys.imageio:imageio-jpeg:3.1.1'
    compile 'com.twelvemonkeys.imageio:imageio-pnm:3.1.1'
    compile 'com.twelvemonkeys.imageio:imageio-tiff:3.1.1'
    testCompile "junit:junit:4+"
  }

}

task install {
  dependsOn(':tools:hibImport:installDist')
  dependsOn(':tools:hibInfo:installDist')
  dependsOn(':tools:dumpHib:installDist')
  dependsOn(':tools:downloader:installDist')
  dependsOn(':tools:jpegFromHib:installDist')
  //  dependsOn(':examples:covar:installDist')
  doLast {
    println 'Finished building the HIPI library along with all tools and examples.'
  }
}